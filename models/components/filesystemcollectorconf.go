// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

type FilesystemCollectorConfExtractor struct {
	// A token from the template directory, such as epoch
	Key string `json:"key"`
	// JavaScript expression that receives token under "value" variable, and evaluates to populate event fields, such as {date: new Date(+value*1000)}
	Expression string `json:"expression"`
}

func (f FilesystemCollectorConfExtractor) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(f, "", false)
}

func (f *FilesystemCollectorConfExtractor) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &f, "", false, []string{"key", "expression"}); err != nil {
		return err
	}
	return nil
}

func (f *FilesystemCollectorConfExtractor) GetKey() string {
	if f == nil {
		return ""
	}
	return f.Key
}

func (f *FilesystemCollectorConfExtractor) GetExpression() string {
	if f == nil {
		return ""
	}
	return f.Expression
}

type FilesystemCollectorConf struct {
	// Select a predefined configuration (a Destination) to auto-populate Collector settings
	OutputName *string `json:"outputName,omitempty"`
	// The directory from which to collect data. Templating is supported, such as /myDir/${datacenter}/${host}/${app}/. Time-based tokens are also supported, such as /myOtherDir/${_time:%Y}/${_time:%m}/${_time:%d}/.
	Path string `json:"path"`
	// Allows using template tokens as context for expressions that enrich discovery results. For example, given a template /path/${epoch}, an extractor under key "epoch" with an expression {date: new Date(+value*1000)}, will enrich discovery results with a human readable "date" field.
	Extractors []FilesystemCollectorConfExtractor `json:"extractors,omitempty"`
	// Recurse through subdirectories
	Recurse *bool `json:"recurse,omitempty"`
	// Maximum number of metadata files to batch before recording as results
	MaxBatchSize *float64 `json:"maxBatchSize,omitempty"`
}

func (f FilesystemCollectorConf) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(f, "", false)
}

func (f *FilesystemCollectorConf) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &f, "", false, []string{"path"}); err != nil {
		return err
	}
	return nil
}

func (f *FilesystemCollectorConf) GetOutputName() *string {
	if f == nil {
		return nil
	}
	return f.OutputName
}

func (f *FilesystemCollectorConf) GetPath() string {
	if f == nil {
		return ""
	}
	return f.Path
}

func (f *FilesystemCollectorConf) GetExtractors() []FilesystemCollectorConfExtractor {
	if f == nil {
		return nil
	}
	return f.Extractors
}

func (f *FilesystemCollectorConf) GetRecurse() *bool {
	if f == nil {
		return nil
	}
	return f.Recurse
}

func (f *FilesystemCollectorConf) GetMaxBatchSize() *float64 {
	if f == nil {
		return nil
	}
	return f.MaxBatchSize
}
