// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

// DefaultTime - How to set the time field if no timestamp is found
type DefaultTime string

const (
	// DefaultTimeNow Current Time
	DefaultTimeNow DefaultTime = "now"
	// DefaultTimeLast Last Event's Time
	DefaultTimeLast DefaultTime = "last"
	// DefaultTimeNone None
	DefaultTimeNone DefaultTime = "none"
)

func (e DefaultTime) ToPointer() *DefaultTime {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *DefaultTime) IsExact() bool {
	if e != nil {
		switch *e {
		case "now", "last", "none":
			return true
		}
	}
	return false
}

type Timestamp struct {
	// Regex with first capturing group matching the timestamp
	Regex string `json:"regex"`
	// Select or enter strptime format for the captured timestamp
	Strptime string `json:"strptime"`
}

func (t Timestamp) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(t, "", false)
}

func (t *Timestamp) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &t, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (t *Timestamp) GetRegex() string {
	if t == nil {
		return ""
	}
	return t.Regex
}

func (t *Timestamp) GetStrptime() string {
	if t == nil {
		return ""
	}
	return t.Strptime
}

type FunctionConfSchemaAutoTimestamp struct {
	// Field to search for a timestamp
	SrcField *string `json:"srcField,omitempty"`
	// Field to place timestamp in
	DstField *string `json:"dstField,omitempty"`
	// Timezone to assign to timestamps without timezone info
	DefaultTimezone *string `json:"defaultTimezone,omitempty"`
	// Expression to use to format time. Current time, as a JavaScript Date object, is in global `time`. You can access other fields' values via __e.<fieldName>.
	TimeExpression *string `json:"timeExpression,omitempty"`
	// The offset into the string from which to look for a timestamp
	Offset *float64 `json:"offset,omitempty"`
	// Maximum string length at which to look for a timestamp
	MaxLen *float64 `json:"maxLen,omitempty"`
	// How to set the time field if no timestamp is found
	DefaultTime *DefaultTime `json:"defaultTime,omitempty"`
	// The latest timestamp value allowed relative to now, such as +42days. Parsed values after this date will be set to the Default time.
	LatestDateAllowed *string `json:"latestDateAllowed,omitempty"`
	Spacer            *string `json:"spacer,omitempty"`
	// The earliest timestamp value allowed relative to now, such as -42years. Parsed values prior to this date will be set to the Default time.
	EarliestDateAllowed *string `json:"earliestDateAllowed,omitempty"`
	// Add regex/strptime pairs to extract additional timestamp formats
	Timestamps []Timestamp `json:"timestamps,omitempty"`
}

func (f FunctionConfSchemaAutoTimestamp) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(f, "", false)
}

func (f *FunctionConfSchemaAutoTimestamp) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &f, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (f *FunctionConfSchemaAutoTimestamp) GetSrcField() *string {
	if f == nil {
		return nil
	}
	return f.SrcField
}

func (f *FunctionConfSchemaAutoTimestamp) GetDstField() *string {
	if f == nil {
		return nil
	}
	return f.DstField
}

func (f *FunctionConfSchemaAutoTimestamp) GetDefaultTimezone() *string {
	if f == nil {
		return nil
	}
	return f.DefaultTimezone
}

func (f *FunctionConfSchemaAutoTimestamp) GetTimeExpression() *string {
	if f == nil {
		return nil
	}
	return f.TimeExpression
}

func (f *FunctionConfSchemaAutoTimestamp) GetOffset() *float64 {
	if f == nil {
		return nil
	}
	return f.Offset
}

func (f *FunctionConfSchemaAutoTimestamp) GetMaxLen() *float64 {
	if f == nil {
		return nil
	}
	return f.MaxLen
}

func (f *FunctionConfSchemaAutoTimestamp) GetDefaultTime() *DefaultTime {
	if f == nil {
		return nil
	}
	return f.DefaultTime
}

func (f *FunctionConfSchemaAutoTimestamp) GetLatestDateAllowed() *string {
	if f == nil {
		return nil
	}
	return f.LatestDateAllowed
}

func (f *FunctionConfSchemaAutoTimestamp) GetSpacer() *string {
	if f == nil {
		return nil
	}
	return f.Spacer
}

func (f *FunctionConfSchemaAutoTimestamp) GetEarliestDateAllowed() *string {
	if f == nil {
		return nil
	}
	return f.EarliestDateAllowed
}

func (f *FunctionConfSchemaAutoTimestamp) GetTimestamps() []Timestamp {
	if f == nil {
		return nil
	}
	return f.Timestamps
}
