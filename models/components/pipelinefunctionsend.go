// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"encoding/json"
	"fmt"
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

// PipelineFunctionSendID - Function ID
type PipelineFunctionSendID string

const (
	PipelineFunctionSendIDSend PipelineFunctionSendID = "send"
)

func (e PipelineFunctionSendID) ToPointer() *PipelineFunctionSendID {
	return &e
}
func (e *PipelineFunctionSendID) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "send":
		*e = PipelineFunctionSendID(v)
		return nil
	default:
		return fmt.Errorf("invalid value for PipelineFunctionSendID: %v", v)
	}
}

// PipelineFunctionSendMode - In Sender mode, forwards search results directly to the destination. In Metrics mode, accumulates metrics from federated send operators, and forwards the aggregate metrics.
type PipelineFunctionSendMode string

const (
	PipelineFunctionSendModeSender  PipelineFunctionSendMode = "sender"
	PipelineFunctionSendModeMetrics PipelineFunctionSendMode = "metrics"
)

func (e PipelineFunctionSendMode) ToPointer() *PipelineFunctionSendMode {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *PipelineFunctionSendMode) IsExact() bool {
	if e != nil {
		switch *e {
		case "sender", "metrics":
			return true
		}
	}
	return false
}

type SendConfiguration struct {
	// Full URL to send search to.
	URL *string `json:"url,omitzero"`
	// Group within the workspace we're sending to.
	Group *string `json:"group,omitzero"`
	// Workspace within the deployment to send the search results to.
	Workspace *string `json:"workspace,omitzero"`
	// Template to build the URL to send from.
	SendURLTemplate *string `json:"sendUrlTemplate,omitzero"`
	// Id of the search this function is running on.
	SearchID string `json:"searchId"`
	// Tee results to search. When set to true results will be shipped instead of stats
	Tee *bool `json:"tee,omitzero"`
	// How often are stats flushed in ms
	FlushMs *float64 `json:"flushMs,omitzero"`
	// Disables generation of intermediate stats. When true stats will be emitted only on end
	SuppressPreviews *bool `json:"suppressPreviews,omitzero"`
	// In Sender mode, forwards search results directly to the destination. In Metrics mode, accumulates metrics from federated send operators, and forwards the aggregate metrics.
	Mode *PipelineFunctionSendMode `json:"mode,omitzero"`
}

func (s SendConfiguration) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SendConfiguration) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SendConfiguration) GetURL() *string {
	if s == nil {
		return nil
	}
	return s.URL
}

func (s *SendConfiguration) GetGroup() *string {
	if s == nil {
		return nil
	}
	return s.Group
}

func (s *SendConfiguration) GetWorkspace() *string {
	if s == nil {
		return nil
	}
	return s.Workspace
}

func (s *SendConfiguration) GetSendURLTemplate() *string {
	if s == nil {
		return nil
	}
	return s.SendURLTemplate
}

func (s *SendConfiguration) GetSearchID() string {
	if s == nil {
		return ""
	}
	return s.SearchID
}

func (s *SendConfiguration) GetTee() *bool {
	if s == nil {
		return nil
	}
	return s.Tee
}

func (s *SendConfiguration) GetFlushMs() *float64 {
	if s == nil {
		return nil
	}
	return s.FlushMs
}

func (s *SendConfiguration) GetSuppressPreviews() *bool {
	if s == nil {
		return nil
	}
	return s.SuppressPreviews
}

func (s *SendConfiguration) GetMode() *PipelineFunctionSendMode {
	if s == nil {
		return nil
	}
	return s.Mode
}

type PipelineFunctionSend struct {
	// Filter that selects data to be fed through this Function
	Filter *string `json:"filter,omitzero"`
	// Function ID
	ID PipelineFunctionSendID `json:"id"`
	// Simple description of this step
	Description *string `json:"description,omitzero"`
	// If true, data will not be pushed through this function
	Disabled *bool `json:"disabled,omitzero"`
	// If enabled, stops the results of this Function from being passed to the downstream Functions
	Final *bool             `json:"final,omitzero"`
	Conf  SendConfiguration `json:"conf"`
	// Group ID
	GroupID *string `json:"groupId,omitzero"`
}

func (p PipelineFunctionSend) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(p, "", false)
}

func (p *PipelineFunctionSend) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &p, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (p *PipelineFunctionSend) GetFilter() *string {
	if p == nil {
		return nil
	}
	return p.Filter
}

func (p *PipelineFunctionSend) GetID() PipelineFunctionSendID {
	if p == nil {
		return PipelineFunctionSendID("")
	}
	return p.ID
}

func (p *PipelineFunctionSend) GetDescription() *string {
	if p == nil {
		return nil
	}
	return p.Description
}

func (p *PipelineFunctionSend) GetDisabled() *bool {
	if p == nil {
		return nil
	}
	return p.Disabled
}

func (p *PipelineFunctionSend) GetFinal() *bool {
	if p == nil {
		return nil
	}
	return p.Final
}

func (p *PipelineFunctionSend) GetConf() SendConfiguration {
	if p == nil {
		return SendConfiguration{}
	}
	return p.Conf
}

func (p *PipelineFunctionSend) GetGroupID() *string {
	if p == nil {
		return nil
	}
	return p.GroupID
}
