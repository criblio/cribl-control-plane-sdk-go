// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

type FunctionConfSchemaPublishMetricsMetricType string

const (
	// FunctionConfSchemaPublishMetricsMetricTypeCounter Counter
	FunctionConfSchemaPublishMetricsMetricTypeCounter FunctionConfSchemaPublishMetricsMetricType = "counter"
	// FunctionConfSchemaPublishMetricsMetricTypeTimer Timer
	FunctionConfSchemaPublishMetricsMetricTypeTimer FunctionConfSchemaPublishMetricsMetricType = "timer"
	// FunctionConfSchemaPublishMetricsMetricTypeGauge Gauge
	FunctionConfSchemaPublishMetricsMetricTypeGauge FunctionConfSchemaPublishMetricsMetricType = "gauge"
	// FunctionConfSchemaPublishMetricsMetricTypeDistribution Distribution
	FunctionConfSchemaPublishMetricsMetricTypeDistribution FunctionConfSchemaPublishMetricsMetricType = "distribution"
	// FunctionConfSchemaPublishMetricsMetricTypeSummary Summary
	FunctionConfSchemaPublishMetricsMetricTypeSummary FunctionConfSchemaPublishMetricsMetricType = "summary"
	// FunctionConfSchemaPublishMetricsMetricTypeHistogram Histogram
	FunctionConfSchemaPublishMetricsMetricTypeHistogram FunctionConfSchemaPublishMetricsMetricType = "histogram"
)

func (e FunctionConfSchemaPublishMetricsMetricType) ToPointer() *FunctionConfSchemaPublishMetricsMetricType {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *FunctionConfSchemaPublishMetricsMetricType) IsExact() bool {
	if e != nil {
		switch *e {
		case "counter", "timer", "gauge", "distribution", "summary", "histogram":
			return true
		}
	}
	return false
}

type FunctionConfSchemaPublishMetricsField struct {
	// The name of the field in the event that contains the metric value
	InFieldName string `json:"inFieldName"`
	// JavaScript expression to evaluate the metric field name. Defaults to Event Field Name.
	OutFieldExpr *string                                     `json:"outFieldExpr,omitempty"`
	MetricType   *FunctionConfSchemaPublishMetricsMetricType `default:"gauge" json:"metricType"`
}

func (f FunctionConfSchemaPublishMetricsField) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(f, "", false)
}

func (f *FunctionConfSchemaPublishMetricsField) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &f, "", false, []string{"inFieldName"}); err != nil {
		return err
	}
	return nil
}

func (f *FunctionConfSchemaPublishMetricsField) GetInFieldName() string {
	if f == nil {
		return ""
	}
	return f.InFieldName
}

func (f *FunctionConfSchemaPublishMetricsField) GetOutFieldExpr() *string {
	if f == nil {
		return nil
	}
	return f.OutFieldExpr
}

func (f *FunctionConfSchemaPublishMetricsField) GetMetricType() *FunctionConfSchemaPublishMetricsMetricType {
	if f == nil {
		return nil
	}
	return f.MetricType
}

type FunctionConfSchemaPublishMetrics struct {
	// List of metrics from event to extract and format. Formatted metrics can be used by a destination to pass metrics to a metrics aggregation platform.
	Fields []FunctionConfSchemaPublishMetricsField `json:"fields,omitempty"`
	// Overwrite previous metric specs. Leave disabled to append.
	Overwrite *bool `default:"false" json:"overwrite"`
	// Optional list of dimensions to include in events. Wildcards supported. If you don't specify metrics, values will be appended to every metric found in the event. When you add a new metric, dimensions will be present only in those new metrics.
	Dimensions []string `json:"dimensions,omitempty"`
	// Optional list of metric field names to look for when removing metrics. When a metric's field name matches an element in this list, the metric will be removed from the event.
	RemoveMetrics []string `json:"removeMetrics,omitempty"`
	// Optional list of dimensions to remove from every metric found in the event. Wildcards supported.
	RemoveDimensions []string `json:"removeDimensions,omitempty"`
}

func (f FunctionConfSchemaPublishMetrics) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(f, "", false)
}

func (f *FunctionConfSchemaPublishMetrics) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &f, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (f *FunctionConfSchemaPublishMetrics) GetFields() []FunctionConfSchemaPublishMetricsField {
	if f == nil {
		return nil
	}
	return f.Fields
}

func (f *FunctionConfSchemaPublishMetrics) GetOverwrite() *bool {
	if f == nil {
		return nil
	}
	return f.Overwrite
}

func (f *FunctionConfSchemaPublishMetrics) GetDimensions() []string {
	if f == nil {
		return nil
	}
	return f.Dimensions
}

func (f *FunctionConfSchemaPublishMetrics) GetRemoveMetrics() []string {
	if f == nil {
		return nil
	}
	return f.RemoveMetrics
}

func (f *FunctionConfSchemaPublishMetrics) GetRemoveDimensions() []string {
	if f == nil {
		return nil
	}
	return f.RemoveDimensions
}
