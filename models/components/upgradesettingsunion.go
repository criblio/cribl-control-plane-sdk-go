// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"errors"
	"fmt"
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

type UpgradeSettings2 struct {
}

func (u UpgradeSettings2) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(u, "", false)
}

func (u *UpgradeSettings2) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &u, "", false, nil); err != nil {
		return err
	}
	return nil
}

type UpgradeSettings1 struct {
	AutomaticUpgradeCheckPeriod *string              `json:"automaticUpgradeCheckPeriod,omitempty"`
	DisableAutomaticUpgrade     bool                 `json:"disableAutomaticUpgrade"`
	EnableLegacyEdgeUpgrade     bool                 `json:"enableLegacyEdgeUpgrade"`
	PackageUrls                 []UpgradePackageUrls `json:"packageUrls,omitempty"`
	UpgradeSource               string               `json:"upgradeSource"`
}

func (u UpgradeSettings1) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(u, "", false)
}

func (u *UpgradeSettings1) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &u, "", false, []string{"disableAutomaticUpgrade", "enableLegacyEdgeUpgrade", "upgradeSource"}); err != nil {
		return err
	}
	return nil
}

func (u *UpgradeSettings1) GetAutomaticUpgradeCheckPeriod() *string {
	if u == nil {
		return nil
	}
	return u.AutomaticUpgradeCheckPeriod
}

func (u *UpgradeSettings1) GetDisableAutomaticUpgrade() bool {
	if u == nil {
		return false
	}
	return u.DisableAutomaticUpgrade
}

func (u *UpgradeSettings1) GetEnableLegacyEdgeUpgrade() bool {
	if u == nil {
		return false
	}
	return u.EnableLegacyEdgeUpgrade
}

func (u *UpgradeSettings1) GetPackageUrls() []UpgradePackageUrls {
	if u == nil {
		return nil
	}
	return u.PackageUrls
}

func (u *UpgradeSettings1) GetUpgradeSource() string {
	if u == nil {
		return ""
	}
	return u.UpgradeSource
}

type UpgradeSettingsUnionType string

const (
	UpgradeSettingsUnionTypeUpgradeSettings1 UpgradeSettingsUnionType = "UpgradeSettings_1"
	UpgradeSettingsUnionTypeUpgradeSettings2 UpgradeSettingsUnionType = "UpgradeSettings_2"
)

type UpgradeSettingsUnion struct {
	UpgradeSettings1 *UpgradeSettings1 `queryParam:"inline,name=UpgradeSettings"`
	UpgradeSettings2 *UpgradeSettings2 `queryParam:"inline,name=UpgradeSettings"`

	Type UpgradeSettingsUnionType
}

func CreateUpgradeSettingsUnionUpgradeSettings1(upgradeSettings1 UpgradeSettings1) UpgradeSettingsUnion {
	typ := UpgradeSettingsUnionTypeUpgradeSettings1

	return UpgradeSettingsUnion{
		UpgradeSettings1: &upgradeSettings1,
		Type:             typ,
	}
}

func CreateUpgradeSettingsUnionUpgradeSettings2(upgradeSettings2 UpgradeSettings2) UpgradeSettingsUnion {
	typ := UpgradeSettingsUnionTypeUpgradeSettings2

	return UpgradeSettingsUnion{
		UpgradeSettings2: &upgradeSettings2,
		Type:             typ,
	}
}

func (u *UpgradeSettingsUnion) UnmarshalJSON(data []byte) error {

	var upgradeSettings1 UpgradeSettings1 = UpgradeSettings1{}
	if err := utils.UnmarshalJSON(data, &upgradeSettings1, "", true, nil); err == nil {
		u.UpgradeSettings1 = &upgradeSettings1
		u.Type = UpgradeSettingsUnionTypeUpgradeSettings1
		return nil
	}

	var upgradeSettings2 UpgradeSettings2 = UpgradeSettings2{}
	if err := utils.UnmarshalJSON(data, &upgradeSettings2, "", true, nil); err == nil {
		u.UpgradeSettings2 = &upgradeSettings2
		u.Type = UpgradeSettingsUnionTypeUpgradeSettings2
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for UpgradeSettingsUnion", string(data))
}

func (u UpgradeSettingsUnion) MarshalJSON() ([]byte, error) {
	if u.UpgradeSettings1 != nil {
		return utils.MarshalJSON(u.UpgradeSettings1, "", true)
	}

	if u.UpgradeSettings2 != nil {
		return utils.MarshalJSON(u.UpgradeSettings2, "", true)
	}

	return nil, errors.New("could not marshal union type UpgradeSettingsUnion: all fields are null")
}
