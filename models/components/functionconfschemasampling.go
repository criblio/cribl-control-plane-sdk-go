// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

type FunctionConfSchemaSamplingRule struct {
	// JavaScript filter expression matching events to be sampled. Use true to match all.
	Filter string `json:"filter"`
	// Sampling rate; picks one out of N matching events
	Rate int64 `json:"rate"`
}

func (f FunctionConfSchemaSamplingRule) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(f, "", false)
}

func (f *FunctionConfSchemaSamplingRule) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &f, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (f *FunctionConfSchemaSamplingRule) GetFilter() string {
	if f == nil {
		return ""
	}
	return f.Filter
}

func (f *FunctionConfSchemaSamplingRule) GetRate() int64 {
	if f == nil {
		return 0
	}
	return f.Rate
}

type FunctionConfSchemaSampling struct {
	// Events matching these rules will be sampled at the given rate
	Rules []FunctionConfSchemaSamplingRule `json:"rules,omitempty"`
}

func (f FunctionConfSchemaSampling) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(f, "", false)
}

func (f *FunctionConfSchemaSampling) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &f, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (f *FunctionConfSchemaSampling) GetRules() []FunctionConfSchemaSamplingRule {
	if f == nil {
		return nil
	}
	return f.Rules
}
