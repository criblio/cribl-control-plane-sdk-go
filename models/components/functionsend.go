// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"encoding/json"
	"fmt"
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

type FunctionSendID string

const (
	FunctionSendIDSend FunctionSendID = "send"
)

func (e FunctionSendID) ToPointer() *FunctionSendID {
	return &e
}
func (e *FunctionSendID) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "send":
		*e = FunctionSendID(v)
		return nil
	default:
		return fmt.Errorf("invalid value for FunctionSendID: %v", v)
	}
}

// FunctionSendMode - In Sender mode, forwards search results directly to the destination. In Metrics mode, accumulates metrics from federated send operators, and forwards the aggregate metrics.
type FunctionSendMode string

const (
	FunctionSendModeSender  FunctionSendMode = "sender"
	FunctionSendModeMetrics FunctionSendMode = "metrics"
)

func (e FunctionSendMode) ToPointer() *FunctionSendMode {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *FunctionSendMode) IsExact() bool {
	if e != nil {
		switch *e {
		case "sender", "metrics":
			return true
		}
	}
	return false
}

type SendConfiguration struct {
	// Full URL to send search to.
	URL *string `json:"url,omitempty"`
	// Group within the workspace we're sending to.
	Group *string `default:"default" json:"group"`
	// Workspace within the deployment to send the search results to.
	Workspace *string `default:"main" json:"workspace"`
	// Template to build the URL to send from.
	SendURLTemplate *string `json:"sendUrlTemplate,omitempty"`
	// Id of the search this function is running on.
	SearchID string `json:"searchId"`
	// Tee results to search. When set to true results will be shipped instead of stats
	Tee *string `default:"false" json:"tee"`
	// How often are stats flushed in ms
	FlushMs *float64 `default:"1000" json:"flushMs"`
	// Disables generation of intermediate stats. When true stats will be emitted only on end
	SuppressPreviews *bool `json:"suppressPreviews,omitempty"`
	// In Sender mode, forwards search results directly to the destination. In Metrics mode, accumulates metrics from federated send operators, and forwards the aggregate metrics.
	Mode *FunctionSendMode `json:"mode,omitempty"`
}

func (s SendConfiguration) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SendConfiguration) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, []string{"searchId"}); err != nil {
		return err
	}
	return nil
}

func (s *SendConfiguration) GetURL() *string {
	if s == nil {
		return nil
	}
	return s.URL
}

func (s *SendConfiguration) GetGroup() *string {
	if s == nil {
		return nil
	}
	return s.Group
}

func (s *SendConfiguration) GetWorkspace() *string {
	if s == nil {
		return nil
	}
	return s.Workspace
}

func (s *SendConfiguration) GetSendURLTemplate() *string {
	if s == nil {
		return nil
	}
	return s.SendURLTemplate
}

func (s *SendConfiguration) GetSearchID() string {
	if s == nil {
		return ""
	}
	return s.SearchID
}

func (s *SendConfiguration) GetTee() *string {
	if s == nil {
		return nil
	}
	return s.Tee
}

func (s *SendConfiguration) GetFlushMs() *float64 {
	if s == nil {
		return nil
	}
	return s.FlushMs
}

func (s *SendConfiguration) GetSuppressPreviews() *bool {
	if s == nil {
		return nil
	}
	return s.SuppressPreviews
}

func (s *SendConfiguration) GetMode() *FunctionSendMode {
	if s == nil {
		return nil
	}
	return s.Mode
}

type FunctionSend struct {
	Filename      string             `json:"__filename"`
	AsyncTimeout  *float64           `json:"asyncTimeout,omitempty"`
	CriblVersion  *string            `json:"cribl_version,omitempty"`
	Disabled      *bool              `json:"disabled,omitempty"`
	Group         string             `json:"group"`
	HandleSignals *bool              `json:"handleSignals,omitempty"`
	ID            FunctionSendID     `json:"id"`
	LoadTime      float64            `json:"loadTime"`
	ModTime       float64            `json:"modTime"`
	Name          string             `json:"name"`
	Sync          *bool              `json:"sync,omitempty"`
	Uischema      map[string]any     `json:"uischema"`
	Version       string             `json:"version"`
	Schema        *SendConfiguration `json:"schema,omitempty"`
}

func (f FunctionSend) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(f, "", false)
}

func (f *FunctionSend) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &f, "", false, []string{"__filename", "group", "id", "loadTime", "modTime", "name", "uischema", "version"}); err != nil {
		return err
	}
	return nil
}

func (f *FunctionSend) GetFilename() string {
	if f == nil {
		return ""
	}
	return f.Filename
}

func (f *FunctionSend) GetAsyncTimeout() *float64 {
	if f == nil {
		return nil
	}
	return f.AsyncTimeout
}

func (f *FunctionSend) GetCriblVersion() *string {
	if f == nil {
		return nil
	}
	return f.CriblVersion
}

func (f *FunctionSend) GetDisabled() *bool {
	if f == nil {
		return nil
	}
	return f.Disabled
}

func (f *FunctionSend) GetGroup() string {
	if f == nil {
		return ""
	}
	return f.Group
}

func (f *FunctionSend) GetHandleSignals() *bool {
	if f == nil {
		return nil
	}
	return f.HandleSignals
}

func (f *FunctionSend) GetID() FunctionSendID {
	if f == nil {
		return FunctionSendID("")
	}
	return f.ID
}

func (f *FunctionSend) GetLoadTime() float64 {
	if f == nil {
		return 0.0
	}
	return f.LoadTime
}

func (f *FunctionSend) GetModTime() float64 {
	if f == nil {
		return 0.0
	}
	return f.ModTime
}

func (f *FunctionSend) GetName() string {
	if f == nil {
		return ""
	}
	return f.Name
}

func (f *FunctionSend) GetSync() *bool {
	if f == nil {
		return nil
	}
	return f.Sync
}

func (f *FunctionSend) GetUischema() map[string]any {
	if f == nil {
		return map[string]any{}
	}
	return f.Uischema
}

func (f *FunctionSend) GetVersion() string {
	if f == nil {
		return ""
	}
	return f.Version
}

func (f *FunctionSend) GetSchema() *SendConfiguration {
	if f == nil {
		return nil
	}
	return f.Schema
}
