// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

type FunctionConfSchemaRedisCommand struct {
	// Name of the field in which to store the returned value. Leave blank to discard returned value.
	OutField *string `json:"outField,omitempty"`
	// Redis command to perform. For a complete list visit: https://redis.io/commands
	Command string `json:"command"`
	// A JavaScript expression to compute the value of the key to operate on. Can also be a constant such as 'username'.
	KeyExpr string `json:"keyExpr"`
	// A JavaScript expression to compute arguments to the operation. Can return an array.
	ArgsExpr *string `json:"argsExpr,omitempty"`
}

func (f FunctionConfSchemaRedisCommand) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(f, "", false)
}

func (f *FunctionConfSchemaRedisCommand) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &f, "", false, []string{"command", "keyExpr"}); err != nil {
		return err
	}
	return nil
}

func (f *FunctionConfSchemaRedisCommand) GetOutField() *string {
	if f == nil {
		return nil
	}
	return f.OutField
}

func (f *FunctionConfSchemaRedisCommand) GetCommand() string {
	if f == nil {
		return ""
	}
	return f.Command
}

func (f *FunctionConfSchemaRedisCommand) GetKeyExpr() string {
	if f == nil {
		return ""
	}
	return f.KeyExpr
}

func (f *FunctionConfSchemaRedisCommand) GetArgsExpr() *string {
	if f == nil {
		return nil
	}
	return f.ArgsExpr
}

// FunctionConfSchemaRedisDeploymentType - How the Redis server is configured. Defaults to Standalone
type FunctionConfSchemaRedisDeploymentType string

const (
	// FunctionConfSchemaRedisDeploymentTypeStandalone Standalone
	FunctionConfSchemaRedisDeploymentTypeStandalone FunctionConfSchemaRedisDeploymentType = "standalone"
	// FunctionConfSchemaRedisDeploymentTypeCluster Cluster
	FunctionConfSchemaRedisDeploymentTypeCluster FunctionConfSchemaRedisDeploymentType = "cluster"
	// FunctionConfSchemaRedisDeploymentTypeSentinel Sentinel
	FunctionConfSchemaRedisDeploymentTypeSentinel FunctionConfSchemaRedisDeploymentType = "sentinel"
)

func (e FunctionConfSchemaRedisDeploymentType) ToPointer() *FunctionConfSchemaRedisDeploymentType {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *FunctionConfSchemaRedisDeploymentType) IsExact() bool {
	if e != nil {
		switch *e {
		case "standalone", "cluster", "sentinel":
			return true
		}
	}
	return false
}

type FunctionConfSchemaRedisAuthenticationMethod string

const (
	// FunctionConfSchemaRedisAuthenticationMethodNone None
	FunctionConfSchemaRedisAuthenticationMethodNone FunctionConfSchemaRedisAuthenticationMethod = "none"
	// FunctionConfSchemaRedisAuthenticationMethodManual Manual
	FunctionConfSchemaRedisAuthenticationMethodManual FunctionConfSchemaRedisAuthenticationMethod = "manual"
	// FunctionConfSchemaRedisAuthenticationMethodCredentialsSecret User Secret
	FunctionConfSchemaRedisAuthenticationMethodCredentialsSecret FunctionConfSchemaRedisAuthenticationMethod = "credentialsSecret"
	// FunctionConfSchemaRedisAuthenticationMethodTextSecret Admin Secret
	FunctionConfSchemaRedisAuthenticationMethodTextSecret FunctionConfSchemaRedisAuthenticationMethod = "textSecret"
)

func (e FunctionConfSchemaRedisAuthenticationMethod) ToPointer() *FunctionConfSchemaRedisAuthenticationMethod {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *FunctionConfSchemaRedisAuthenticationMethod) IsExact() bool {
	if e != nil {
		switch *e {
		case "none", "manual", "credentialsSecret", "textSecret":
			return true
		}
	}
	return false
}

type FunctionConfSchemaRedis struct {
	Commands []FunctionConfSchemaRedisCommand `json:"commands,omitempty"`
	// How the Redis server is configured. Defaults to Standalone
	DeploymentType *FunctionConfSchemaRedisDeploymentType       `json:"deploymentType,omitempty"`
	AuthType       *FunctionConfSchemaRedisAuthenticationMethod `json:"authType,omitempty"`
	// Maximum amount of time (seconds) to wait before assuming that Redis is down and passing events through. Use 0 to disable.
	MaxBlockSecs *float64 `json:"maxBlockSecs,omitempty"`
	// Enable client-side cache. Redundant when using Redis write operations. See more options at Settings > General > Limits > Redis Cache.
	EnableClientSideCaching *bool `json:"enableClientSideCaching,omitempty"`
}

func (f FunctionConfSchemaRedis) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(f, "", false)
}

func (f *FunctionConfSchemaRedis) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &f, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (f *FunctionConfSchemaRedis) GetCommands() []FunctionConfSchemaRedisCommand {
	if f == nil {
		return nil
	}
	return f.Commands
}

func (f *FunctionConfSchemaRedis) GetDeploymentType() *FunctionConfSchemaRedisDeploymentType {
	if f == nil {
		return nil
	}
	return f.DeploymentType
}

func (f *FunctionConfSchemaRedis) GetAuthType() *FunctionConfSchemaRedisAuthenticationMethod {
	if f == nil {
		return nil
	}
	return f.AuthType
}

func (f *FunctionConfSchemaRedis) GetMaxBlockSecs() *float64 {
	if f == nil {
		return nil
	}
	return f.MaxBlockSecs
}

func (f *FunctionConfSchemaRedis) GetEnableClientSideCaching() *bool {
	if f == nil {
		return nil
	}
	return f.EnableClientSideCaching
}
