// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"errors"
	"fmt"
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

type Os struct {
	Addresses []string `json:"addresses"`
}

func (o Os) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(o, "", false)
}

func (o *Os) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &o, "", false, []string{"addresses"}); err != nil {
		return err
	}
	return nil
}

func (o *Os) GetAddresses() []string {
	if o == nil {
		return []string{}
	}
	return o.Addresses
}

type OsUnionType string

const (
	OsUnionTypeHostOsTypeHeartbeatMetadata OsUnionType = "HostOsTypeHeartbeatMetadata"
	OsUnionTypeOs                          OsUnionType = "os"
)

type OsUnion struct {
	HostOsTypeHeartbeatMetadata *HostOsTypeHeartbeatMetadata `queryParam:"inline" union:"member"`
	Os                          *Os                          `queryParam:"inline" union:"member"`

	Type OsUnionType
}

func CreateOsUnionHostOsTypeHeartbeatMetadata(hostOsTypeHeartbeatMetadata HostOsTypeHeartbeatMetadata) OsUnion {
	typ := OsUnionTypeHostOsTypeHeartbeatMetadata

	return OsUnion{
		HostOsTypeHeartbeatMetadata: &hostOsTypeHeartbeatMetadata,
		Type:                        typ,
	}
}

func CreateOsUnionOs(os Os) OsUnion {
	typ := OsUnionTypeOs

	return OsUnion{
		Os:   &os,
		Type: typ,
	}
}

func (u *OsUnion) UnmarshalJSON(data []byte) error {

	var hostOsTypeHeartbeatMetadata HostOsTypeHeartbeatMetadata = HostOsTypeHeartbeatMetadata{}
	if err := utils.UnmarshalJSON(data, &hostOsTypeHeartbeatMetadata, "", true, nil); err == nil {
		u.HostOsTypeHeartbeatMetadata = &hostOsTypeHeartbeatMetadata
		u.Type = OsUnionTypeHostOsTypeHeartbeatMetadata
		return nil
	}

	var os Os = Os{}
	if err := utils.UnmarshalJSON(data, &os, "", true, nil); err == nil {
		u.Os = &os
		u.Type = OsUnionTypeOs
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for OsUnion", string(data))
}

func (u OsUnion) MarshalJSON() ([]byte, error) {
	if u.HostOsTypeHeartbeatMetadata != nil {
		return utils.MarshalJSON(u.HostOsTypeHeartbeatMetadata, "", true)
	}

	if u.Os != nil {
		return utils.MarshalJSON(u.Os, "", true)
	}

	return nil, errors.New("could not marshal union type OsUnion: all fields are null")
}

type NodeProvidedInfo struct {
	Architecture   string                       `json:"architecture"`
	Aws            *AwsTypeHeartbeatMetadata    `json:"aws,omitempty"`
	Azure          *AzureTypeHeartbeatMetadata  `json:"azure,omitempty"`
	ConnIP         *string                      `json:"conn_ip,omitempty"`
	Cpus           float64                      `json:"cpus"`
	Cribl          HBCriblInfo                  `json:"cribl"`
	Env            map[string]string            `json:"env"`
	FreeDiskSpace  *float64                     `json:"freeDiskSpace,omitempty"`
	HostOs         *HostOsTypeHeartbeatMetadata `json:"hostOs,omitempty"`
	Hostname       string                       `json:"hostname"`
	IsSaasWorker   *bool                        `json:"isSaasWorker,omitempty"`
	Kube           *KubeTypeHeartbeatMetadata   `json:"kube,omitempty"`
	LocalTime      *float64                     `json:"localTime,omitempty"`
	Metadata       *HeartbeatMetadata           `json:"metadata,omitempty"`
	Node           string                       `json:"node"`
	Os             *OsUnion                     `json:"os,omitempty"`
	Outpost        *OutpostNodeInfo             `json:"outpost,omitempty"`
	Platform       string                       `json:"platform"`
	Release        string                       `json:"release"`
	TotalDiskSpace *float64                     `json:"totalDiskSpace,omitempty"`
	Totalmem       float64                      `json:"totalmem"`
}

func (n *NodeProvidedInfo) GetArchitecture() string {
	if n == nil {
		return ""
	}
	return n.Architecture
}

func (n *NodeProvidedInfo) GetAws() *AwsTypeHeartbeatMetadata {
	if n == nil {
		return nil
	}
	return n.Aws
}

func (n *NodeProvidedInfo) GetAzure() *AzureTypeHeartbeatMetadata {
	if n == nil {
		return nil
	}
	return n.Azure
}

func (n *NodeProvidedInfo) GetConnIP() *string {
	if n == nil {
		return nil
	}
	return n.ConnIP
}

func (n *NodeProvidedInfo) GetCpus() float64 {
	if n == nil {
		return 0.0
	}
	return n.Cpus
}

func (n *NodeProvidedInfo) GetCribl() HBCriblInfo {
	if n == nil {
		return HBCriblInfo{}
	}
	return n.Cribl
}

func (n *NodeProvidedInfo) GetEnv() map[string]string {
	if n == nil {
		return map[string]string{}
	}
	return n.Env
}

func (n *NodeProvidedInfo) GetFreeDiskSpace() *float64 {
	if n == nil {
		return nil
	}
	return n.FreeDiskSpace
}

func (n *NodeProvidedInfo) GetHostOs() *HostOsTypeHeartbeatMetadata {
	if n == nil {
		return nil
	}
	return n.HostOs
}

func (n *NodeProvidedInfo) GetHostname() string {
	if n == nil {
		return ""
	}
	return n.Hostname
}

func (n *NodeProvidedInfo) GetIsSaasWorker() *bool {
	if n == nil {
		return nil
	}
	return n.IsSaasWorker
}

func (n *NodeProvidedInfo) GetKube() *KubeTypeHeartbeatMetadata {
	if n == nil {
		return nil
	}
	return n.Kube
}

func (n *NodeProvidedInfo) GetLocalTime() *float64 {
	if n == nil {
		return nil
	}
	return n.LocalTime
}

func (n *NodeProvidedInfo) GetMetadata() *HeartbeatMetadata {
	if n == nil {
		return nil
	}
	return n.Metadata
}

func (n *NodeProvidedInfo) GetNode() string {
	if n == nil {
		return ""
	}
	return n.Node
}

func (n *NodeProvidedInfo) GetOs() *OsUnion {
	if n == nil {
		return nil
	}
	return n.Os
}

func (n *NodeProvidedInfo) GetOutpost() *OutpostNodeInfo {
	if n == nil {
		return nil
	}
	return n.Outpost
}

func (n *NodeProvidedInfo) GetPlatform() string {
	if n == nil {
		return ""
	}
	return n.Platform
}

func (n *NodeProvidedInfo) GetRelease() string {
	if n == nil {
		return ""
	}
	return n.Release
}

func (n *NodeProvidedInfo) GetTotalDiskSpace() *float64 {
	if n == nil {
		return nil
	}
	return n.TotalDiskSpace
}

func (n *NodeProvidedInfo) GetTotalmem() float64 {
	if n == nil {
		return 0.0
	}
	return n.Totalmem
}
