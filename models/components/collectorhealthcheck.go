// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"encoding/json"
	"fmt"
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

// CollectorHealthCheckDiscoverType - Defines how task discovery will be performed. Use None to skip the discovery. Use HTTP Request to make a REST call to discover tasks. Use Item List to enumerate items for collect to retrieve. Use JSON Response to manually define discover tasks as a JSON array of objects. Each entry returned by the discover operation will result in a collect task.
type CollectorHealthCheckDiscoverType string

const (
	// CollectorHealthCheckDiscoverTypeHTTP HTTP Request
	CollectorHealthCheckDiscoverTypeHTTP CollectorHealthCheckDiscoverType = "http"
	// CollectorHealthCheckDiscoverTypeJSON JSON Response
	CollectorHealthCheckDiscoverTypeJSON CollectorHealthCheckDiscoverType = "json"
	// CollectorHealthCheckDiscoverTypeList Item List
	CollectorHealthCheckDiscoverTypeList CollectorHealthCheckDiscoverType = "list"
	// CollectorHealthCheckDiscoverTypeNone None
	CollectorHealthCheckDiscoverTypeNone CollectorHealthCheckDiscoverType = "none"
)

func (e CollectorHealthCheckDiscoverType) ToPointer() *CollectorHealthCheckDiscoverType {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *CollectorHealthCheckDiscoverType) IsExact() bool {
	if e != nil {
		switch *e {
		case "http", "json", "list", "none":
			return true
		}
	}
	return false
}

type CollectorHealthCheckDiscovery struct {
	// Defines how task discovery will be performed. Use None to skip the discovery. Use HTTP Request to make a REST call to discover tasks. Use Item List to enumerate items for collect to retrieve. Use JSON Response to manually define discover tasks as a JSON array of objects. Each entry returned by the discover operation will result in a collect task.
	DiscoverType *CollectorHealthCheckDiscoverType `default:"none" json:"discoverType"`
}

func (c CollectorHealthCheckDiscovery) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CollectorHealthCheckDiscovery) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CollectorHealthCheckDiscovery) GetDiscoverType() *CollectorHealthCheckDiscoverType {
	if c == nil {
		return nil
	}
	return c.DiscoverType
}

// HealthCheckMethod - Health check HTTP method.
type HealthCheckMethod string

const (
	// HealthCheckMethodGet GET
	HealthCheckMethodGet HealthCheckMethod = "get"
	// HealthCheckMethodPost POST
	HealthCheckMethodPost HealthCheckMethod = "post"
	// HealthCheckMethodPostWithBody POST with Body
	HealthCheckMethodPostWithBody HealthCheckMethod = "post_with_body"
)

func (e HealthCheckMethod) ToPointer() *HealthCheckMethod {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *HealthCheckMethod) IsExact() bool {
	if e != nil {
		switch *e {
		case "get", "post", "post_with_body":
			return true
		}
	}
	return false
}

type CollectorHealthCheckCollectRequestHeader struct {
	// Header Name
	Name string `json:"name"`
	// JavaScript expression to compute the header value (can be a constant).
	Value string `json:"value"`
}

func (c CollectorHealthCheckCollectRequestHeader) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CollectorHealthCheckCollectRequestHeader) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, []string{"name", "value"}); err != nil {
		return err
	}
	return nil
}

func (c *CollectorHealthCheckCollectRequestHeader) GetName() string {
	if c == nil {
		return ""
	}
	return c.Name
}

func (c *CollectorHealthCheckCollectRequestHeader) GetValue() string {
	if c == nil {
		return ""
	}
	return c.Value
}

// CollectorHealthCheckAuthentication - Authentication method for Discover and Collect REST calls. You can specify API Key–based authentication by adding the appropriate Collect headers.
type CollectorHealthCheckAuthentication string

const (
	CollectorHealthCheckAuthenticationNone        CollectorHealthCheckAuthentication = "none"
	CollectorHealthCheckAuthenticationBasic       CollectorHealthCheckAuthentication = "basic"
	CollectorHealthCheckAuthenticationBasicSecret CollectorHealthCheckAuthentication = "basicSecret"
	CollectorHealthCheckAuthenticationLogin       CollectorHealthCheckAuthentication = "login"
	CollectorHealthCheckAuthenticationLoginSecret CollectorHealthCheckAuthentication = "loginSecret"
	CollectorHealthCheckAuthenticationOauth       CollectorHealthCheckAuthentication = "oauth"
	CollectorHealthCheckAuthenticationOauthSecret CollectorHealthCheckAuthentication = "oauthSecret"
)

func (e CollectorHealthCheckAuthentication) ToPointer() *CollectorHealthCheckAuthentication {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *CollectorHealthCheckAuthentication) IsExact() bool {
	if e != nil {
		switch *e {
		case "none", "basic", "basicSecret", "login", "loginSecret", "oauth", "oauthSecret":
			return true
		}
	}
	return false
}

type CollectorHealthCheckHiddenDefaultBreakers string

const (
	CollectorHealthCheckHiddenDefaultBreakersCribl CollectorHealthCheckHiddenDefaultBreakers = "Cribl"
)

func (e CollectorHealthCheckHiddenDefaultBreakers) ToPointer() *CollectorHealthCheckHiddenDefaultBreakers {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *CollectorHealthCheckHiddenDefaultBreakers) IsExact() bool {
	if e != nil {
		switch *e {
		case "Cribl":
			return true
		}
	}
	return false
}

// CollectorHealthCheckRetryType - The algorithm to use when performing HTTP retries
type CollectorHealthCheckRetryType string

const (
	// CollectorHealthCheckRetryTypeNone Disabled
	CollectorHealthCheckRetryTypeNone CollectorHealthCheckRetryType = "none"
	// CollectorHealthCheckRetryTypeBackoff Backoff
	CollectorHealthCheckRetryTypeBackoff CollectorHealthCheckRetryType = "backoff"
	// CollectorHealthCheckRetryTypeStatic Static
	CollectorHealthCheckRetryTypeStatic CollectorHealthCheckRetryType = "static"
)

func (e CollectorHealthCheckRetryType) ToPointer() *CollectorHealthCheckRetryType {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *CollectorHealthCheckRetryType) IsExact() bool {
	if e != nil {
		switch *e {
		case "none", "backoff", "static":
			return true
		}
	}
	return false
}

type CollectorHealthCheckRetryRules struct {
	// The algorithm to use when performing HTTP retries
	Type         *CollectorHealthCheckRetryType `default:"backoff" json:"type"`
	Interval     any                            `json:"interval,omitempty"`
	Limit        any                            `json:"limit,omitempty"`
	Multiplier   any                            `json:"multiplier,omitempty"`
	Codes        any                            `json:"codes,omitempty"`
	EnableHeader any                            `json:"enableHeader,omitempty"`
}

func (c CollectorHealthCheckRetryRules) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CollectorHealthCheckRetryRules) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CollectorHealthCheckRetryRules) GetType() *CollectorHealthCheckRetryType {
	if c == nil {
		return nil
	}
	return c.Type
}

func (c *CollectorHealthCheckRetryRules) GetInterval() any {
	if c == nil {
		return nil
	}
	return c.Interval
}

func (c *CollectorHealthCheckRetryRules) GetLimit() any {
	if c == nil {
		return nil
	}
	return c.Limit
}

func (c *CollectorHealthCheckRetryRules) GetMultiplier() any {
	if c == nil {
		return nil
	}
	return c.Multiplier
}

func (c *CollectorHealthCheckRetryRules) GetCodes() any {
	if c == nil {
		return nil
	}
	return c.Codes
}

func (c *CollectorHealthCheckRetryRules) GetEnableHeader() any {
	if c == nil {
		return nil
	}
	return c.EnableHeader
}

// CollectorHealthCheckType - Collector type: health_check
type CollectorHealthCheckType string

const (
	CollectorHealthCheckTypeHealthCheck CollectorHealthCheckType = "health_check"
)

func (e CollectorHealthCheckType) ToPointer() *CollectorHealthCheckType {
	return &e
}
func (e *CollectorHealthCheckType) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "health_check":
		*e = CollectorHealthCheckType(v)
		return nil
	default:
		return fmt.Errorf("invalid value for CollectorHealthCheckType: %v", v)
	}
}

type CollectorHealthCheck struct {
	Discovery *CollectorHealthCheckDiscovery `json:"discovery,omitempty"`
	// Expression to derive URL to use for the health check operation (can be a constant).
	CollectURL string `json:"collectUrl"`
	// Health check HTTP method.
	CollectMethod        *HealthCheckMethod `default:"get" json:"collectMethod"`
	CollectRequestParams any                `json:"collectRequestParams,omitempty"`
	CollectBody          any                `json:"collectBody,omitempty"`
	// Optional health check request headers.
	CollectRequestHeaders []CollectorHealthCheckCollectRequestHeader `json:"collectRequestHeaders,omitempty"`
	// Enable to make auth health check call.
	AuthenticateCollect *bool `default:"false" json:"authenticateCollect"`
	// Authentication method for Discover and Collect REST calls. You can specify API Key–based authentication by adding the appropriate Collect headers.
	Authentication *CollectorHealthCheckAuthentication `default:"none" json:"authentication"`
	// HTTP request inactivity timeout, use 0 to disable
	Timeout *float64 `default:"30" json:"timeout"`
	// Whether to reject certificates that cannot be verified against a valid CA (e.g., self-signed certificates).
	RejectUnauthorized *bool                                      `default:"false" json:"rejectUnauthorized"`
	DefaultBreakers    *CollectorHealthCheckHiddenDefaultBreakers `json:"defaultBreakers,omitempty"`
	// List of headers that are safe to log in plain text.
	SafeHeaders []string                        `json:"safeHeaders,omitempty"`
	RetryRules  *CollectorHealthCheckRetryRules `json:"retryRules,omitempty"`
	// Collector type: health_check
	Type CollectorHealthCheckType `json:"type"`
}

func (c CollectorHealthCheck) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CollectorHealthCheck) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, []string{"collectUrl", "type"}); err != nil {
		return err
	}
	return nil
}

func (c *CollectorHealthCheck) GetDiscovery() *CollectorHealthCheckDiscovery {
	if c == nil {
		return nil
	}
	return c.Discovery
}

func (c *CollectorHealthCheck) GetCollectURL() string {
	if c == nil {
		return ""
	}
	return c.CollectURL
}

func (c *CollectorHealthCheck) GetCollectMethod() *HealthCheckMethod {
	if c == nil {
		return nil
	}
	return c.CollectMethod
}

func (c *CollectorHealthCheck) GetCollectRequestParams() any {
	if c == nil {
		return nil
	}
	return c.CollectRequestParams
}

func (c *CollectorHealthCheck) GetCollectBody() any {
	if c == nil {
		return nil
	}
	return c.CollectBody
}

func (c *CollectorHealthCheck) GetCollectRequestHeaders() []CollectorHealthCheckCollectRequestHeader {
	if c == nil {
		return nil
	}
	return c.CollectRequestHeaders
}

func (c *CollectorHealthCheck) GetAuthenticateCollect() *bool {
	if c == nil {
		return nil
	}
	return c.AuthenticateCollect
}

func (c *CollectorHealthCheck) GetAuthentication() *CollectorHealthCheckAuthentication {
	if c == nil {
		return nil
	}
	return c.Authentication
}

func (c *CollectorHealthCheck) GetTimeout() *float64 {
	if c == nil {
		return nil
	}
	return c.Timeout
}

func (c *CollectorHealthCheck) GetRejectUnauthorized() *bool {
	if c == nil {
		return nil
	}
	return c.RejectUnauthorized
}

func (c *CollectorHealthCheck) GetDefaultBreakers() *CollectorHealthCheckHiddenDefaultBreakers {
	if c == nil {
		return nil
	}
	return c.DefaultBreakers
}

func (c *CollectorHealthCheck) GetSafeHeaders() []string {
	if c == nil {
		return nil
	}
	return c.SafeHeaders
}

func (c *CollectorHealthCheck) GetRetryRules() *CollectorHealthCheckRetryRules {
	if c == nil {
		return nil
	}
	return c.RetryRules
}

func (c *CollectorHealthCheck) GetType() CollectorHealthCheckType {
	if c == nil {
		return CollectorHealthCheckType("")
	}
	return c.Type
}
