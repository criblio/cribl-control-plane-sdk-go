// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"encoding/json"
	"errors"
	"fmt"
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

// GoogleCloudStorageAuthTypeSecretAuthenticationMethod - Enter account credentials manually, select a secret that references your credentials, or use Google Application Default Credentials
type GoogleCloudStorageAuthTypeSecretAuthenticationMethod string

const (
	GoogleCloudStorageAuthTypeSecretAuthenticationMethodAuto   GoogleCloudStorageAuthTypeSecretAuthenticationMethod = "auto"
	GoogleCloudStorageAuthTypeSecretAuthenticationMethodManual GoogleCloudStorageAuthTypeSecretAuthenticationMethod = "manual"
	GoogleCloudStorageAuthTypeSecretAuthenticationMethodSecret GoogleCloudStorageAuthTypeSecretAuthenticationMethod = "secret"
)

func (e GoogleCloudStorageAuthTypeSecretAuthenticationMethod) ToPointer() *GoogleCloudStorageAuthTypeSecretAuthenticationMethod {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *GoogleCloudStorageAuthTypeSecretAuthenticationMethod) IsExact() bool {
	if e != nil {
		switch *e {
		case "auto", "manual", "secret":
			return true
		}
	}
	return false
}

type GoogleCloudStorageAuthTypeSecretExtractor struct {
	// A token from the template path, such as epoch
	Key string `json:"key"`
	// JavaScript expression that receives token under "value" variable, and evaluates to populate event fields, such as {date: new Date(+value*1000)}
	Expression string `json:"expression"`
}

func (g GoogleCloudStorageAuthTypeSecretExtractor) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(g, "", false)
}

func (g *GoogleCloudStorageAuthTypeSecretExtractor) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &g, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (g *GoogleCloudStorageAuthTypeSecretExtractor) GetKey() string {
	if g == nil {
		return ""
	}
	return g.Key
}

func (g *GoogleCloudStorageAuthTypeSecretExtractor) GetExpression() string {
	if g == nil {
		return ""
	}
	return g.Expression
}

type GoogleCloudStorageAuthTypeSecret struct {
	// Enter account credentials manually, select a secret that references your credentials, or use Google Application Default Credentials
	AuthType *GoogleCloudStorageAuthTypeSecretAuthenticationMethod `json:"authType,omitzero"`
	// Select or create a stored text secret that references your credentials
	TextSecret string `json:"textSecret"`
	// Name of the predefined Destination that will be used to auto-populate Collector settings
	OutputName *string `json:"outputName,omitzero"`
	// Name of the bucket to collect from. This value can be a constant or a JavaScript expression that can only be evaluated at init time. Example referencing a Global Variable: `myBucket-${C.vars.myVar}`.
	Bucket string `json:"bucket"`
	// The directory from which to collect data. Templating is supported, such as myDir/${datacenter}/${host}/${app}/. Time-based tokens are also supported, such as myOtherDir/${_time:%Y}/${_time:%m}/${_time:%d}/.
	Path *string `json:"path,omitzero"`
	// Allows using template tokens as context for expressions that enrich discovery results. For example, given a template /path/${epoch}, an extractor under key "epoch" with an expression {date: new Date(+value*1000)}, will enrich discovery results with a human readable "date" field.
	Extractors []GoogleCloudStorageAuthTypeSecretExtractor `json:"extractors,omitzero"`
	// Google Cloud Storage service endpoint. If empty, the endpoint will default to https://storage.googleapis.com.
	Endpoint *string `json:"endpoint,omitzero"`
	// Used to disable Collector event time filtering when a date range is specified
	DisableTimeFilter *bool `json:"disableTimeFilter,omitzero"`
	// Recurse through subdirectories
	Recurse *bool `json:"recurse,omitzero"`
	// Maximum number of metadata objects to batch before recording as results
	MaxBatchSize *float64 `json:"maxBatchSize,omitzero"`
	// Maximum file size for each Parquet chunk
	ParquetChunkSizeMB *float64 `json:"parquetChunkSizeMB,omitzero"`
	// The maximum time allowed for downloading a Parquet chunk. Processing will abort if a chunk cannot be downloaded within the time specified.
	ParquetChunkDownloadTimeout *float64 `json:"parquetChunkDownloadTimeout,omitzero"`
}

func (g GoogleCloudStorageAuthTypeSecret) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(g, "", false)
}

func (g *GoogleCloudStorageAuthTypeSecret) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &g, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (g *GoogleCloudStorageAuthTypeSecret) GetAuthType() *GoogleCloudStorageAuthTypeSecretAuthenticationMethod {
	if g == nil {
		return nil
	}
	return g.AuthType
}

func (g *GoogleCloudStorageAuthTypeSecret) GetTextSecret() string {
	if g == nil {
		return ""
	}
	return g.TextSecret
}

func (g *GoogleCloudStorageAuthTypeSecret) GetOutputName() *string {
	if g == nil {
		return nil
	}
	return g.OutputName
}

func (g *GoogleCloudStorageAuthTypeSecret) GetBucket() string {
	if g == nil {
		return ""
	}
	return g.Bucket
}

func (g *GoogleCloudStorageAuthTypeSecret) GetPath() *string {
	if g == nil {
		return nil
	}
	return g.Path
}

func (g *GoogleCloudStorageAuthTypeSecret) GetExtractors() []GoogleCloudStorageAuthTypeSecretExtractor {
	if g == nil {
		return nil
	}
	return g.Extractors
}

func (g *GoogleCloudStorageAuthTypeSecret) GetEndpoint() *string {
	if g == nil {
		return nil
	}
	return g.Endpoint
}

func (g *GoogleCloudStorageAuthTypeSecret) GetDisableTimeFilter() *bool {
	if g == nil {
		return nil
	}
	return g.DisableTimeFilter
}

func (g *GoogleCloudStorageAuthTypeSecret) GetRecurse() *bool {
	if g == nil {
		return nil
	}
	return g.Recurse
}

func (g *GoogleCloudStorageAuthTypeSecret) GetMaxBatchSize() *float64 {
	if g == nil {
		return nil
	}
	return g.MaxBatchSize
}

func (g *GoogleCloudStorageAuthTypeSecret) GetParquetChunkSizeMB() *float64 {
	if g == nil {
		return nil
	}
	return g.ParquetChunkSizeMB
}

func (g *GoogleCloudStorageAuthTypeSecret) GetParquetChunkDownloadTimeout() *float64 {
	if g == nil {
		return nil
	}
	return g.ParquetChunkDownloadTimeout
}

// GoogleCloudStorageAuthTypeManualAuthenticationMethod - Enter account credentials manually, select a secret that references your credentials, or use Google Application Default Credentials
type GoogleCloudStorageAuthTypeManualAuthenticationMethod string

const (
	GoogleCloudStorageAuthTypeManualAuthenticationMethodAuto   GoogleCloudStorageAuthTypeManualAuthenticationMethod = "auto"
	GoogleCloudStorageAuthTypeManualAuthenticationMethodManual GoogleCloudStorageAuthTypeManualAuthenticationMethod = "manual"
	GoogleCloudStorageAuthTypeManualAuthenticationMethodSecret GoogleCloudStorageAuthTypeManualAuthenticationMethod = "secret"
)

func (e GoogleCloudStorageAuthTypeManualAuthenticationMethod) ToPointer() *GoogleCloudStorageAuthTypeManualAuthenticationMethod {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *GoogleCloudStorageAuthTypeManualAuthenticationMethod) IsExact() bool {
	if e != nil {
		switch *e {
		case "auto", "manual", "secret":
			return true
		}
	}
	return false
}

type GoogleCloudStorageAuthTypeManualExtractor struct {
	// A token from the template path, such as epoch
	Key string `json:"key"`
	// JavaScript expression that receives token under "value" variable, and evaluates to populate event fields, such as {date: new Date(+value*1000)}
	Expression string `json:"expression"`
}

func (g GoogleCloudStorageAuthTypeManualExtractor) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(g, "", false)
}

func (g *GoogleCloudStorageAuthTypeManualExtractor) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &g, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (g *GoogleCloudStorageAuthTypeManualExtractor) GetKey() string {
	if g == nil {
		return ""
	}
	return g.Key
}

func (g *GoogleCloudStorageAuthTypeManualExtractor) GetExpression() string {
	if g == nil {
		return ""
	}
	return g.Expression
}

type GoogleCloudStorageAuthTypeManual struct {
	// Enter account credentials manually, select a secret that references your credentials, or use Google Application Default Credentials
	AuthType *GoogleCloudStorageAuthTypeManualAuthenticationMethod `json:"authType,omitzero"`
	// Contents of Google Cloud service account credentials (JSON keys) file. To upload a file, click the upload button at this field's upper right.
	ServiceAccountCredentials string `json:"serviceAccountCredentials"`
	// Name of the predefined Destination that will be used to auto-populate Collector settings
	OutputName *string `json:"outputName,omitzero"`
	// Name of the bucket to collect from. This value can be a constant or a JavaScript expression that can only be evaluated at init time. Example referencing a Global Variable: `myBucket-${C.vars.myVar}`.
	Bucket string `json:"bucket"`
	// The directory from which to collect data. Templating is supported, such as myDir/${datacenter}/${host}/${app}/. Time-based tokens are also supported, such as myOtherDir/${_time:%Y}/${_time:%m}/${_time:%d}/.
	Path *string `json:"path,omitzero"`
	// Allows using template tokens as context for expressions that enrich discovery results. For example, given a template /path/${epoch}, an extractor under key "epoch" with an expression {date: new Date(+value*1000)}, will enrich discovery results with a human readable "date" field.
	Extractors []GoogleCloudStorageAuthTypeManualExtractor `json:"extractors,omitzero"`
	// Google Cloud Storage service endpoint. If empty, the endpoint will default to https://storage.googleapis.com.
	Endpoint *string `json:"endpoint,omitzero"`
	// Used to disable Collector event time filtering when a date range is specified
	DisableTimeFilter *bool `json:"disableTimeFilter,omitzero"`
	// Recurse through subdirectories
	Recurse *bool `json:"recurse,omitzero"`
	// Maximum number of metadata objects to batch before recording as results
	MaxBatchSize *float64 `json:"maxBatchSize,omitzero"`
	// Maximum file size for each Parquet chunk
	ParquetChunkSizeMB *float64 `json:"parquetChunkSizeMB,omitzero"`
	// The maximum time allowed for downloading a Parquet chunk. Processing will abort if a chunk cannot be downloaded within the time specified.
	ParquetChunkDownloadTimeout *float64 `json:"parquetChunkDownloadTimeout,omitzero"`
}

func (g GoogleCloudStorageAuthTypeManual) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(g, "", false)
}

func (g *GoogleCloudStorageAuthTypeManual) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &g, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (g *GoogleCloudStorageAuthTypeManual) GetAuthType() *GoogleCloudStorageAuthTypeManualAuthenticationMethod {
	if g == nil {
		return nil
	}
	return g.AuthType
}

func (g *GoogleCloudStorageAuthTypeManual) GetServiceAccountCredentials() string {
	if g == nil {
		return ""
	}
	return g.ServiceAccountCredentials
}

func (g *GoogleCloudStorageAuthTypeManual) GetOutputName() *string {
	if g == nil {
		return nil
	}
	return g.OutputName
}

func (g *GoogleCloudStorageAuthTypeManual) GetBucket() string {
	if g == nil {
		return ""
	}
	return g.Bucket
}

func (g *GoogleCloudStorageAuthTypeManual) GetPath() *string {
	if g == nil {
		return nil
	}
	return g.Path
}

func (g *GoogleCloudStorageAuthTypeManual) GetExtractors() []GoogleCloudStorageAuthTypeManualExtractor {
	if g == nil {
		return nil
	}
	return g.Extractors
}

func (g *GoogleCloudStorageAuthTypeManual) GetEndpoint() *string {
	if g == nil {
		return nil
	}
	return g.Endpoint
}

func (g *GoogleCloudStorageAuthTypeManual) GetDisableTimeFilter() *bool {
	if g == nil {
		return nil
	}
	return g.DisableTimeFilter
}

func (g *GoogleCloudStorageAuthTypeManual) GetRecurse() *bool {
	if g == nil {
		return nil
	}
	return g.Recurse
}

func (g *GoogleCloudStorageAuthTypeManual) GetMaxBatchSize() *float64 {
	if g == nil {
		return nil
	}
	return g.MaxBatchSize
}

func (g *GoogleCloudStorageAuthTypeManual) GetParquetChunkSizeMB() *float64 {
	if g == nil {
		return nil
	}
	return g.ParquetChunkSizeMB
}

func (g *GoogleCloudStorageAuthTypeManual) GetParquetChunkDownloadTimeout() *float64 {
	if g == nil {
		return nil
	}
	return g.ParquetChunkDownloadTimeout
}

// GoogleCloudStorageAuthTypeAutoAuthenticationMethod - Enter account credentials manually, select a secret that references your credentials, or use Google Application Default Credentials
type GoogleCloudStorageAuthTypeAutoAuthenticationMethod string

const (
	GoogleCloudStorageAuthTypeAutoAuthenticationMethodAuto   GoogleCloudStorageAuthTypeAutoAuthenticationMethod = "auto"
	GoogleCloudStorageAuthTypeAutoAuthenticationMethodManual GoogleCloudStorageAuthTypeAutoAuthenticationMethod = "manual"
	GoogleCloudStorageAuthTypeAutoAuthenticationMethodSecret GoogleCloudStorageAuthTypeAutoAuthenticationMethod = "secret"
)

func (e GoogleCloudStorageAuthTypeAutoAuthenticationMethod) ToPointer() *GoogleCloudStorageAuthTypeAutoAuthenticationMethod {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *GoogleCloudStorageAuthTypeAutoAuthenticationMethod) IsExact() bool {
	if e != nil {
		switch *e {
		case "auto", "manual", "secret":
			return true
		}
	}
	return false
}

type GoogleCloudStorageAuthTypeAutoExtractor struct {
	// A token from the template path, such as epoch
	Key string `json:"key"`
	// JavaScript expression that receives token under "value" variable, and evaluates to populate event fields, such as {date: new Date(+value*1000)}
	Expression string `json:"expression"`
}

func (g GoogleCloudStorageAuthTypeAutoExtractor) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(g, "", false)
}

func (g *GoogleCloudStorageAuthTypeAutoExtractor) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &g, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (g *GoogleCloudStorageAuthTypeAutoExtractor) GetKey() string {
	if g == nil {
		return ""
	}
	return g.Key
}

func (g *GoogleCloudStorageAuthTypeAutoExtractor) GetExpression() string {
	if g == nil {
		return ""
	}
	return g.Expression
}

type GoogleCloudStorageAuthTypeAuto struct {
	// Enter account credentials manually, select a secret that references your credentials, or use Google Application Default Credentials
	AuthType *GoogleCloudStorageAuthTypeAutoAuthenticationMethod `json:"authType,omitzero"`
	// Name of the predefined Destination that will be used to auto-populate Collector settings
	OutputName *string `json:"outputName,omitzero"`
	// Name of the bucket to collect from. This value can be a constant or a JavaScript expression that can only be evaluated at init time. Example referencing a Global Variable: `myBucket-${C.vars.myVar}`.
	Bucket string `json:"bucket"`
	// The directory from which to collect data. Templating is supported, such as myDir/${datacenter}/${host}/${app}/. Time-based tokens are also supported, such as myOtherDir/${_time:%Y}/${_time:%m}/${_time:%d}/.
	Path *string `json:"path,omitzero"`
	// Allows using template tokens as context for expressions that enrich discovery results. For example, given a template /path/${epoch}, an extractor under key "epoch" with an expression {date: new Date(+value*1000)}, will enrich discovery results with a human readable "date" field.
	Extractors []GoogleCloudStorageAuthTypeAutoExtractor `json:"extractors,omitzero"`
	// Google Cloud Storage service endpoint. If empty, the endpoint will default to https://storage.googleapis.com.
	Endpoint *string `json:"endpoint,omitzero"`
	// Used to disable Collector event time filtering when a date range is specified
	DisableTimeFilter *bool `json:"disableTimeFilter,omitzero"`
	// Recurse through subdirectories
	Recurse *bool `json:"recurse,omitzero"`
	// Maximum number of metadata objects to batch before recording as results
	MaxBatchSize *float64 `json:"maxBatchSize,omitzero"`
	// Maximum file size for each Parquet chunk
	ParquetChunkSizeMB *float64 `json:"parquetChunkSizeMB,omitzero"`
	// The maximum time allowed for downloading a Parquet chunk. Processing will abort if a chunk cannot be downloaded within the time specified.
	ParquetChunkDownloadTimeout *float64 `json:"parquetChunkDownloadTimeout,omitzero"`
}

func (g GoogleCloudStorageAuthTypeAuto) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(g, "", false)
}

func (g *GoogleCloudStorageAuthTypeAuto) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &g, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (g *GoogleCloudStorageAuthTypeAuto) GetAuthType() *GoogleCloudStorageAuthTypeAutoAuthenticationMethod {
	if g == nil {
		return nil
	}
	return g.AuthType
}

func (g *GoogleCloudStorageAuthTypeAuto) GetOutputName() *string {
	if g == nil {
		return nil
	}
	return g.OutputName
}

func (g *GoogleCloudStorageAuthTypeAuto) GetBucket() string {
	if g == nil {
		return ""
	}
	return g.Bucket
}

func (g *GoogleCloudStorageAuthTypeAuto) GetPath() *string {
	if g == nil {
		return nil
	}
	return g.Path
}

func (g *GoogleCloudStorageAuthTypeAuto) GetExtractors() []GoogleCloudStorageAuthTypeAutoExtractor {
	if g == nil {
		return nil
	}
	return g.Extractors
}

func (g *GoogleCloudStorageAuthTypeAuto) GetEndpoint() *string {
	if g == nil {
		return nil
	}
	return g.Endpoint
}

func (g *GoogleCloudStorageAuthTypeAuto) GetDisableTimeFilter() *bool {
	if g == nil {
		return nil
	}
	return g.DisableTimeFilter
}

func (g *GoogleCloudStorageAuthTypeAuto) GetRecurse() *bool {
	if g == nil {
		return nil
	}
	return g.Recurse
}

func (g *GoogleCloudStorageAuthTypeAuto) GetMaxBatchSize() *float64 {
	if g == nil {
		return nil
	}
	return g.MaxBatchSize
}

func (g *GoogleCloudStorageAuthTypeAuto) GetParquetChunkSizeMB() *float64 {
	if g == nil {
		return nil
	}
	return g.ParquetChunkSizeMB
}

func (g *GoogleCloudStorageAuthTypeAuto) GetParquetChunkDownloadTimeout() *float64 {
	if g == nil {
		return nil
	}
	return g.ParquetChunkDownloadTimeout
}

type GoogleCloudStorageCollectorConfType string

const (
	GoogleCloudStorageCollectorConfTypeAuto    GoogleCloudStorageCollectorConfType = "auto"
	GoogleCloudStorageCollectorConfTypeManual  GoogleCloudStorageCollectorConfType = "manual"
	GoogleCloudStorageCollectorConfTypeSecret  GoogleCloudStorageCollectorConfType = "secret"
	GoogleCloudStorageCollectorConfTypeUnknown GoogleCloudStorageCollectorConfType = "UNKNOWN"
)

type GoogleCloudStorageCollectorConf struct {
	GoogleCloudStorageAuthTypeAuto   *GoogleCloudStorageAuthTypeAuto   `queryParam:"inline" union:"member"`
	GoogleCloudStorageAuthTypeManual *GoogleCloudStorageAuthTypeManual `queryParam:"inline" union:"member"`
	GoogleCloudStorageAuthTypeSecret *GoogleCloudStorageAuthTypeSecret `queryParam:"inline" union:"member"`
	UnknownRaw                       json.RawMessage                   `json:"-" union:"unknown"`

	Type GoogleCloudStorageCollectorConfType
}

func CreateGoogleCloudStorageCollectorConfAuto(auto GoogleCloudStorageAuthTypeAuto) GoogleCloudStorageCollectorConf {
	typ := GoogleCloudStorageCollectorConfTypeAuto

	typStr := GoogleCloudStorageAuthTypeAutoAuthenticationMethod(typ)
	auto.AuthType = &typStr

	return GoogleCloudStorageCollectorConf{
		GoogleCloudStorageAuthTypeAuto: &auto,
		Type:                           typ,
	}
}

func CreateGoogleCloudStorageCollectorConfManual(manual GoogleCloudStorageAuthTypeManual) GoogleCloudStorageCollectorConf {
	typ := GoogleCloudStorageCollectorConfTypeManual

	typStr := GoogleCloudStorageAuthTypeManualAuthenticationMethod(typ)
	manual.AuthType = &typStr

	return GoogleCloudStorageCollectorConf{
		GoogleCloudStorageAuthTypeManual: &manual,
		Type:                             typ,
	}
}

func CreateGoogleCloudStorageCollectorConfSecret(secret GoogleCloudStorageAuthTypeSecret) GoogleCloudStorageCollectorConf {
	typ := GoogleCloudStorageCollectorConfTypeSecret

	typStr := GoogleCloudStorageAuthTypeSecretAuthenticationMethod(typ)
	secret.AuthType = &typStr

	return GoogleCloudStorageCollectorConf{
		GoogleCloudStorageAuthTypeSecret: &secret,
		Type:                             typ,
	}
}

func CreateGoogleCloudStorageCollectorConfUnknown(raw json.RawMessage) GoogleCloudStorageCollectorConf {
	return GoogleCloudStorageCollectorConf{
		UnknownRaw: raw,
		Type:       GoogleCloudStorageCollectorConfTypeUnknown,
	}
}

func (u GoogleCloudStorageCollectorConf) GetUnknownRaw() json.RawMessage {
	return u.UnknownRaw
}

func (u GoogleCloudStorageCollectorConf) IsUnknown() bool {
	return u.Type == GoogleCloudStorageCollectorConfTypeUnknown
}

func (u *GoogleCloudStorageCollectorConf) UnmarshalJSON(data []byte) error {

	type discriminator struct {
		AuthType string `json:"authType"`
	}

	dis := new(discriminator)
	if err := json.Unmarshal(data, &dis); err != nil {
		u.UnknownRaw = json.RawMessage(data)
		u.Type = GoogleCloudStorageCollectorConfTypeUnknown
		return nil
	}
	if dis == nil {
		u.UnknownRaw = json.RawMessage(data)
		u.Type = GoogleCloudStorageCollectorConfTypeUnknown
		return nil
	}

	switch dis.AuthType {
	case "auto":
		googleCloudStorageAuthTypeAuto := new(GoogleCloudStorageAuthTypeAuto)
		if err := utils.UnmarshalJSON(data, &googleCloudStorageAuthTypeAuto, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (AuthType == auto) type GoogleCloudStorageAuthTypeAuto within GoogleCloudStorageCollectorConf: %w", string(data), err)
		}

		u.GoogleCloudStorageAuthTypeAuto = googleCloudStorageAuthTypeAuto
		u.Type = GoogleCloudStorageCollectorConfTypeAuto
		return nil
	case "manual":
		googleCloudStorageAuthTypeManual := new(GoogleCloudStorageAuthTypeManual)
		if err := utils.UnmarshalJSON(data, &googleCloudStorageAuthTypeManual, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (AuthType == manual) type GoogleCloudStorageAuthTypeManual within GoogleCloudStorageCollectorConf: %w", string(data), err)
		}

		u.GoogleCloudStorageAuthTypeManual = googleCloudStorageAuthTypeManual
		u.Type = GoogleCloudStorageCollectorConfTypeManual
		return nil
	case "secret":
		googleCloudStorageAuthTypeSecret := new(GoogleCloudStorageAuthTypeSecret)
		if err := utils.UnmarshalJSON(data, &googleCloudStorageAuthTypeSecret, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (AuthType == secret) type GoogleCloudStorageAuthTypeSecret within GoogleCloudStorageCollectorConf: %w", string(data), err)
		}

		u.GoogleCloudStorageAuthTypeSecret = googleCloudStorageAuthTypeSecret
		u.Type = GoogleCloudStorageCollectorConfTypeSecret
		return nil
	default:
		u.UnknownRaw = json.RawMessage(data)
		u.Type = GoogleCloudStorageCollectorConfTypeUnknown
		return nil
	}

}

func (u GoogleCloudStorageCollectorConf) MarshalJSON() ([]byte, error) {
	if u.GoogleCloudStorageAuthTypeAuto != nil {
		return utils.MarshalJSON(u.GoogleCloudStorageAuthTypeAuto, "", true)
	}

	if u.GoogleCloudStorageAuthTypeManual != nil {
		return utils.MarshalJSON(u.GoogleCloudStorageAuthTypeManual, "", true)
	}

	if u.GoogleCloudStorageAuthTypeSecret != nil {
		return utils.MarshalJSON(u.GoogleCloudStorageAuthTypeSecret, "", true)
	}

	if u.UnknownRaw != nil {
		return json.RawMessage(u.UnknownRaw), nil
	}
	return nil, errors.New("could not marshal union type GoogleCloudStorageCollectorConf: all fields are null")
}
