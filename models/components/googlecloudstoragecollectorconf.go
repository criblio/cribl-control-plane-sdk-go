// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

type GoogleCloudStorageCollectorConfExtractor struct {
	// A token from the template path, such as epoch
	Key string `json:"key"`
	// JavaScript expression that receives token under "value" variable, and evaluates to populate event fields, such as {date: new Date(+value*1000)}
	Expression string `json:"expression"`
}

func (g GoogleCloudStorageCollectorConfExtractor) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(g, "", false)
}

func (g *GoogleCloudStorageCollectorConfExtractor) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &g, "", false, []string{"key", "expression"}); err != nil {
		return err
	}
	return nil
}

func (g *GoogleCloudStorageCollectorConfExtractor) GetKey() string {
	if g == nil {
		return ""
	}
	return g.Key
}

func (g *GoogleCloudStorageCollectorConfExtractor) GetExpression() string {
	if g == nil {
		return ""
	}
	return g.Expression
}

// GoogleCloudStorageCollectorConfAuthenticationMethod - Enter account credentials manually, select a secret that references your credentials, or use Google Application Default Credentials
type GoogleCloudStorageCollectorConfAuthenticationMethod string

const (
	GoogleCloudStorageCollectorConfAuthenticationMethodAuto   GoogleCloudStorageCollectorConfAuthenticationMethod = "auto"
	GoogleCloudStorageCollectorConfAuthenticationMethodManual GoogleCloudStorageCollectorConfAuthenticationMethod = "manual"
	GoogleCloudStorageCollectorConfAuthenticationMethodSecret GoogleCloudStorageCollectorConfAuthenticationMethod = "secret"
)

func (e GoogleCloudStorageCollectorConfAuthenticationMethod) ToPointer() *GoogleCloudStorageCollectorConfAuthenticationMethod {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *GoogleCloudStorageCollectorConfAuthenticationMethod) IsExact() bool {
	if e != nil {
		switch *e {
		case "auto", "manual", "secret":
			return true
		}
	}
	return false
}

type GoogleCloudStorageCollectorConf struct {
	// Name of the predefined Destination that will be used to auto-populate Collector settings
	OutputName *string `json:"outputName,omitempty"`
	// Name of the bucket to collect from. This value can be a constant or a JavaScript expression that can only be evaluated at init time. Example referencing a Global Variable: `myBucket-${C.vars.myVar}`.
	Bucket string `json:"bucket"`
	// The directory from which to collect data. Templating is supported, such as myDir/${datacenter}/${host}/${app}/. Time-based tokens are also supported, such as myOtherDir/${_time:%Y}/${_time:%m}/${_time:%d}/.
	Path *string `json:"path,omitempty"`
	// Allows using template tokens as context for expressions that enrich discovery results. For example, given a template /path/${epoch}, an extractor under key "epoch" with an expression {date: new Date(+value*1000)}, will enrich discovery results with a human readable "date" field.
	Extractors []GoogleCloudStorageCollectorConfExtractor `json:"extractors,omitempty"`
	// Google Cloud Storage service endpoint. If empty, the endpoint will default to https://storage.googleapis.com.
	Endpoint *string `json:"endpoint,omitempty"`
	// Used to disable Collector event time filtering when a date range is specified
	DisableTimeFilter *bool `default:"false" json:"disableTimeFilter"`
	// Recurse through subdirectories
	Recurse *bool `default:"true" json:"recurse"`
	// Maximum number of metadata objects to batch before recording as results
	MaxBatchSize *float64 `default:"10" json:"maxBatchSize"`
	// Enter account credentials manually, select a secret that references your credentials, or use Google Application Default Credentials
	AuthType *GoogleCloudStorageCollectorConfAuthenticationMethod `default:"manual" json:"authType"`
	// Maximum file size for each Parquet chunk
	ParquetChunkSizeMB *float64 `default:"5" json:"parquetChunkSizeMB"`
	// The maximum time allowed for downloading a Parquet chunk. Processing will abort if a chunk cannot be downloaded within the time specified.
	ParquetChunkDownloadTimeout *float64 `default:"600" json:"parquetChunkDownloadTimeout"`
}

func (g GoogleCloudStorageCollectorConf) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(g, "", false)
}

func (g *GoogleCloudStorageCollectorConf) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &g, "", false, []string{"bucket"}); err != nil {
		return err
	}
	return nil
}

func (g *GoogleCloudStorageCollectorConf) GetOutputName() *string {
	if g == nil {
		return nil
	}
	return g.OutputName
}

func (g *GoogleCloudStorageCollectorConf) GetBucket() string {
	if g == nil {
		return ""
	}
	return g.Bucket
}

func (g *GoogleCloudStorageCollectorConf) GetPath() *string {
	if g == nil {
		return nil
	}
	return g.Path
}

func (g *GoogleCloudStorageCollectorConf) GetExtractors() []GoogleCloudStorageCollectorConfExtractor {
	if g == nil {
		return nil
	}
	return g.Extractors
}

func (g *GoogleCloudStorageCollectorConf) GetEndpoint() *string {
	if g == nil {
		return nil
	}
	return g.Endpoint
}

func (g *GoogleCloudStorageCollectorConf) GetDisableTimeFilter() *bool {
	if g == nil {
		return nil
	}
	return g.DisableTimeFilter
}

func (g *GoogleCloudStorageCollectorConf) GetRecurse() *bool {
	if g == nil {
		return nil
	}
	return g.Recurse
}

func (g *GoogleCloudStorageCollectorConf) GetMaxBatchSize() *float64 {
	if g == nil {
		return nil
	}
	return g.MaxBatchSize
}

func (g *GoogleCloudStorageCollectorConf) GetAuthType() *GoogleCloudStorageCollectorConfAuthenticationMethod {
	if g == nil {
		return nil
	}
	return g.AuthType
}

func (g *GoogleCloudStorageCollectorConf) GetParquetChunkSizeMB() *float64 {
	if g == nil {
		return nil
	}
	return g.ParquetChunkSizeMB
}

func (g *GoogleCloudStorageCollectorConf) GetParquetChunkDownloadTimeout() *float64 {
	if g == nil {
		return nil
	}
	return g.ParquetChunkDownloadTimeout
}
