// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"encoding/json"
	"fmt"
	"github.com/criblio/cribl-control-plane-sdk-go/internal/utils"
)

type FunctionRollupMetricsID string

const (
	FunctionRollupMetricsIDRollupMetrics FunctionRollupMetricsID = "rollup_metrics"
)

func (e FunctionRollupMetricsID) ToPointer() *FunctionRollupMetricsID {
	return &e
}
func (e *FunctionRollupMetricsID) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "rollup_metrics":
		*e = FunctionRollupMetricsID(v)
		return nil
	default:
		return fmt.Errorf("invalid value for FunctionRollupMetricsID: %v", v)
	}
}

// GaugeUpdate - The operation to use when rolling up gauge metrics. Defaults to last.
type GaugeUpdate string

const (
	// GaugeUpdateLast Last
	GaugeUpdateLast GaugeUpdate = "last"
	// GaugeUpdateMax Maximum
	GaugeUpdateMax GaugeUpdate = "max"
	// GaugeUpdateMin Minimum
	GaugeUpdateMin GaugeUpdate = "min"
	// GaugeUpdateAvg Average
	GaugeUpdateAvg GaugeUpdate = "avg"
)

func (e GaugeUpdate) ToPointer() *GaugeUpdate {
	return &e
}

// IsExact returns true if the value matches a known enum value, false otherwise.
func (e *GaugeUpdate) IsExact() bool {
	if e != nil {
		switch *e {
		case "last", "max", "min", "avg":
			return true
		}
	}
	return false
}

type FunctionRollupMetricsSchema struct {
	// List of dimensions across which to perform rollups. Supports wildcards. Defaults to all original dimensions.
	Dimensions []string `json:"dimensions,omitempty"`
	// The time span of the rollup window. Must be a valid time string (such as 10s).
	TimeWindow *string `default:"30s" json:"timeWindow"`
	// The operation to use when rolling up gauge metrics. Defaults to last.
	GaugeRollup *GaugeUpdate `default:"last" json:"gaugeRollup"`
}

func (f FunctionRollupMetricsSchema) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(f, "", false)
}

func (f *FunctionRollupMetricsSchema) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &f, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (f *FunctionRollupMetricsSchema) GetDimensions() []string {
	if f == nil {
		return nil
	}
	return f.Dimensions
}

func (f *FunctionRollupMetricsSchema) GetTimeWindow() *string {
	if f == nil {
		return nil
	}
	return f.TimeWindow
}

func (f *FunctionRollupMetricsSchema) GetGaugeRollup() *GaugeUpdate {
	if f == nil {
		return nil
	}
	return f.GaugeRollup
}

type FunctionRollupMetrics struct {
	Filename      string                       `json:"__filename"`
	AsyncTimeout  *float64                     `json:"asyncTimeout,omitempty"`
	CriblVersion  *string                      `json:"cribl_version,omitempty"`
	Disabled      *bool                        `json:"disabled,omitempty"`
	Group         string                       `json:"group"`
	HandleSignals *bool                        `json:"handleSignals,omitempty"`
	ID            FunctionRollupMetricsID      `json:"id"`
	LoadTime      float64                      `json:"loadTime"`
	ModTime       float64                      `json:"modTime"`
	Name          string                       `json:"name"`
	Sync          *bool                        `json:"sync,omitempty"`
	Uischema      map[string]any               `json:"uischema"`
	Version       string                       `json:"version"`
	Schema        *FunctionRollupMetricsSchema `json:"schema,omitempty"`
}

func (f FunctionRollupMetrics) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(f, "", false)
}

func (f *FunctionRollupMetrics) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &f, "", false, []string{"__filename", "group", "id", "loadTime", "modTime", "name", "uischema", "version"}); err != nil {
		return err
	}
	return nil
}

func (f *FunctionRollupMetrics) GetFilename() string {
	if f == nil {
		return ""
	}
	return f.Filename
}

func (f *FunctionRollupMetrics) GetAsyncTimeout() *float64 {
	if f == nil {
		return nil
	}
	return f.AsyncTimeout
}

func (f *FunctionRollupMetrics) GetCriblVersion() *string {
	if f == nil {
		return nil
	}
	return f.CriblVersion
}

func (f *FunctionRollupMetrics) GetDisabled() *bool {
	if f == nil {
		return nil
	}
	return f.Disabled
}

func (f *FunctionRollupMetrics) GetGroup() string {
	if f == nil {
		return ""
	}
	return f.Group
}

func (f *FunctionRollupMetrics) GetHandleSignals() *bool {
	if f == nil {
		return nil
	}
	return f.HandleSignals
}

func (f *FunctionRollupMetrics) GetID() FunctionRollupMetricsID {
	if f == nil {
		return FunctionRollupMetricsID("")
	}
	return f.ID
}

func (f *FunctionRollupMetrics) GetLoadTime() float64 {
	if f == nil {
		return 0.0
	}
	return f.LoadTime
}

func (f *FunctionRollupMetrics) GetModTime() float64 {
	if f == nil {
		return 0.0
	}
	return f.ModTime
}

func (f *FunctionRollupMetrics) GetName() string {
	if f == nil {
		return ""
	}
	return f.Name
}

func (f *FunctionRollupMetrics) GetSync() *bool {
	if f == nil {
		return nil
	}
	return f.Sync
}

func (f *FunctionRollupMetrics) GetUischema() map[string]any {
	if f == nil {
		return map[string]any{}
	}
	return f.Uischema
}

func (f *FunctionRollupMetrics) GetVersion() string {
	if f == nil {
		return ""
	}
	return f.Version
}

func (f *FunctionRollupMetrics) GetSchema() *FunctionRollupMetricsSchema {
	if f == nil {
		return nil
	}
	return f.Schema
}
